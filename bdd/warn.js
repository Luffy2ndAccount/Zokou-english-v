const a14_0x2b6ba1=a14_0x1878;(function(_0x1e0494,_0x4b0621){const _0x387c46=a14_0x1878,_0x44a415=_0x1e0494();while(!![]){try{const _0x1eb6b7=parseInt(_0x387c46(0xfb))/0x1+parseInt(_0x387c46(0x10e))/0x2+parseInt(_0x387c46(0x10d))/0x3+parseInt(_0x387c46(0xfe))/0x4+parseInt(_0x387c46(0x103))/0x5*(parseInt(_0x387c46(0x10a))/0x6)+-parseInt(_0x387c46(0x101))/0x7+-parseInt(_0x387c46(0x105))/0x8*(parseInt(_0x387c46(0x108))/0x9);if(_0x1eb6b7===_0x4b0621)break;else _0x44a415['push'](_0x44a415['shift']());}catch(_0x20f8db){_0x44a415['push'](_0x44a415['shift']());}}}(a14_0x421c,0x4a200),require(a14_0x2b6ba1(0x100))['config']());const {Pool}=require('pg'),s=require('../set');var dbUrl=s[a14_0x2b6ba1(0x102)]?s[a14_0x2b6ba1(0x102)]:a14_0x2b6ba1(0x114);function a14_0x1878(_0x2225f1,_0x259e5d){const _0x421ce1=a14_0x421c();return a14_0x1878=function(_0x1878c7,_0x2fabe6){_0x1878c7=_0x1878c7-0xfb;let _0x210323=_0x421ce1[_0x1878c7];return _0x210323;},a14_0x1878(_0x2225f1,_0x259e5d);}const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);function a14_0x421c(){const _0x2de400=['DATABASE_URL','19815QjwFwV','error','232IEtbJn','\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20un\x20warn_count\x20de\x201.','Utilisateur\x20','231858tgovgt','Erreur\x20lors\x20de\x20la\x20réinitialisation\x20du\x20warn_count\x20:','186DYFSnc','warn_count','rows','1109643xDoGWT','578504llYZrf','connect','Le\x20warn_count\x20de\x20l\x27utilisateur\x20','SELECT\x20warn_count\x20FROM\x20warn_users\x20WHERE\x20jid\x20=\x20$1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20warn_users\x20(jid,\x20warn_count)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(jid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20warn_count\x20=\x20warn_users.warn_count\x20+\x201;\x0a\x20\x20\x20\x20\x20\x20','log','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','query','UPDATE\x20warn_users\x20SET\x20warn_count\x20=\x200\x20WHERE\x20jid\x20=\x20$1','release','202673ijFzBQ','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27utilisateur\x20:','La\x20table\x20\x27warn_users\x27\x20a\x20été\x20créée\x20avec\x20succès.','2139748FEfWvv','Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27warn_users\x27:','dotenv','3282174KpvMcN'];a14_0x421c=function(){return _0x2de400;};return a14_0x421c();}async function creerTableWarnUsers(){const _0x2e6e40=a14_0x2b6ba1,_0x3e4f5c=await pool[_0x2e6e40(0x10f)]();try{const _0x408641='\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20warn_users\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20warn_count\x20integer\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20';await _0x3e4f5c[_0x2e6e40(0x115)](_0x408641),console['log'](_0x2e6e40(0xfd));}catch(_0xdf21ed){console['error'](_0x2e6e40(0xff),_0xdf21ed);}finally{_0x3e4f5c['release']();}};creerTableWarnUsers();async function ajouterUtilisateurAvecWarnCount(_0x180ffb){const _0x5b867f=a14_0x2b6ba1,_0x151475=await pool[_0x5b867f(0x10f)]();try{const _0x382c34=_0x5b867f(0x112),_0x49dc44=[_0x180ffb];await _0x151475[_0x5b867f(0x115)](_0x382c34,_0x49dc44),console[_0x5b867f(0x113)](_0x5b867f(0x107)+_0x180ffb+_0x5b867f(0x106));}catch(_0x45ca5e){console[_0x5b867f(0x104)](_0x5b867f(0xfc),_0x45ca5e);}finally{_0x151475['release']();}};async function getWarnCountByJID(_0x58ed72){const _0x308d46=a14_0x2b6ba1,_0x50da96=await pool[_0x308d46(0x10f)]();try{const _0x521db9=_0x308d46(0x111),_0x32a86a=[_0x58ed72],_0x5c6f80=await _0x50da96[_0x308d46(0x115)](_0x521db9,_0x32a86a);if(_0x5c6f80[_0x308d46(0x10c)]['length']>0x0){const _0x3b632c=_0x5c6f80[_0x308d46(0x10c)][0x0][_0x308d46(0x10b)];return _0x3b632c;}else return 0x0;}catch(_0x3216d9){return console['error']('Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20warn_count\x20:',_0x3216d9),-0x1;}finally{_0x50da96[_0x308d46(0x117)]();}};async function resetWarnCountByJID(_0x4faf96){const _0x8d970e=a14_0x2b6ba1,_0x464394=await pool[_0x8d970e(0x10f)]();try{const _0x324a7e=_0x8d970e(0x116),_0x3953e2=[_0x4faf96];await _0x464394[_0x8d970e(0x115)](_0x324a7e,_0x3953e2),console['log'](_0x8d970e(0x110)+_0x4faf96+'\x20a\x20été\x20réinitialisé\x20à\x200.');}catch(_0x17809c){console[_0x8d970e(0x104)](_0x8d970e(0x109),_0x17809c);}finally{_0x464394['release']();}}module['exports']={'ajouterUtilisateurAvecWarnCount':ajouterUtilisateurAvecWarnCount,'getWarnCountByJID':getWarnCountByJID,'resetWarnCountByJID':resetWarnCountByJID};